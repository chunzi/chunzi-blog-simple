AdWords API: 为什么 AdGroup 的费用远大于其中关键字的费用总和？

客户看到他的广告组中所有的关键字产生的费用的总和与在广告系列中看到的总计相比，出入达 50%，于是提出质疑。

我相信有果必有因，所以不用着急，我一定可以找到产生这个问题的根源。首先我认为不是我的计算错误。我的数据直接来自 API 。于是第一反应就是统计的时间范围不同，很快这个假设被排除。进而我仔细察看了 Google 界面中的数据，终于发现，从一个广告组的所有关键字取回的 StatsRecord 数据累加后等于“内容网站广告总计”，加上“搜索网站广告总计”中的数字，就完美等于广告组的 StatsRecord 返回的数据。也就是说：

AdGroup->StatsRecord = AdGroup->Criterions->StatsRecord + AdGroup->search_total_stats_record

问题是，API 不提供直接的操作取得搜索网站的统计数据。翻阅了它的讨论组，直到可以通过 Report 服务来提交一个 ReportJob 然后获取这些数据。不过我很不高兴这样做，麻烦。不符合 XP 的精神。所幸我只需要 clicks, impressions, cost 的数据就可以了，不需要 averagePosition（或者不提供给客户这个信息）。所以我完全可以通过相减的方式得到“搜索网站广告总计”的数据。

三下五除二，基本上完成了统计报告的更动。

至于为什么 Google 不提供这些，谁都不清楚，可能是系统演进过程中产生的问题。看到邮件组中还是有很多人抱怨 Google 没有提供更为良好的针对开发人员的文档 -- 他们发现可以在目标 URL 中使用一些标签，Google 会替换这些标签为相应的关键字和站点 URL 。他们籍此发现即便是搜索网站中的广告，仍然是和特定的关键字相关联的，为何 Google 没有针对每个关键字纪录相应的展示点击行为，而放到了上一层次，也就是广告组的级别纪录总和。