jQuery.js 和 Prototype.js

实在忍不住要写点什么了。我被这两个 JavaScript 搞死了。它们都让我又爱又恨。

Prototype.js 出来得早，随着 Rails 的开发而逐渐扩大影响力，成为 Rails 框架下御用 JS 框架。所以<a href="http://blog.chunzi.org/archives/284">秉承了 Ruby 语言的一系列概念</a>，非常清晰地用组织良好的类，对象扩展的方式，增加了各种常用的 handy 函数或者方法。所以叫做原型么。学习曲线低，顺手拈来。

不过这种循规蹈矩的做法很快让书写它们的人感到厌倦。很多操作都要加上类名，繁复、生硬、罗嗦。于是 jQuery.js 得以进化为，用最自然的，类似伪代码的形式，完成相同的功能，并具有更好的可读性。比如：
<pre>$(".rborder").corner("5px").parent().css('padding', '1px').corner("round 5px");</pre>
一气呵成，痛快极了。想象不出还有什么写法可以比这个更简洁达意。而 jQuery 的哲学就是：写最少的代码，做最多的事情。

而这种写法，像极了 shell 下面使用管道符串联起来的一系列命令，简单、优雅、强大、灵活。喜欢用 Perl 写代码的一个原因，也是因为其中的 map 和 grep 组合所构造出来的类似效果，清晰、流畅、自然。所以 jQuery 是很讨开发者的欢心的，用起来舒服。

用起来舒服，这件事本身没什么伟大的，可一舒服，写程序的人就兴奋起来了，就会很高兴地去发明些什么，这种内在激发的驱动力一爆发，就造成了现在 jQuery 插件遍天下的格局。这和 Rails 本身敏捷而富有艺术性的气质所带来的全球影响力的爆发是一致的。

不过这带来了一个问题。插件满天飞，怎么保证质量和兼容？自由带来的多样性是件好事，太多了就分不清楚谁是谁了。虽然 jQuery 提供了统一的 svn 仓库，不过各式的插件的文档，测试，演示等等，各自为政，颇为凌乱。或许需要一个类似 CPAN 一样的统一管理介质？

jQuery 对 DOM 对象的操作很容易－－主要是很舒服，可要处理数据的时候，就不那么舒服了。我总是对 prototype.js 中的 <code>inspect()</code>, <code>join()</code> 念念不忘，可 jQuery 没有，好不容易看到一个 Array 的插件，提供的功能也是捉襟见肘。所以我目前的结论是，对页面元素的控制上，用 jQuery，对数据的处理上，用 Prototype.js 。

还好，jQuery 只是在自己的命名空间里面东奔西跑，按照标准的方式，两者可以共存。不过 jQuery 为了 write less，默认情况下，将自己的类捆绑到 <code>$</code> 函数上，于是，这一强大的内激效应让一些插件的作者忘掉了这只是一个快捷方式，只要在插件内部也使用这种写法，就会和 prototype 冲突。比如说：<a href="http://jquery.com/demo/thickbox/">ThickBox 3.1</a>。

开会去了...